(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{1279:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product",function(){return t(7942)}])},2509:function(n,e,t){"use strict";t.d(e,{MP:function(){return c},g4:function(){return u},km:function(){return s},nH:function(){return o},xN:function(){return d},Ag:function(){return h},HQ:function(){return p},U4:function(){return x},eI:function(){return f}});var r=t(8520),i=t.n(r);function l(n,e,t,r,i,l,a){try{var c=n[l](a),u=c.value}catch(s){return void t(s)}c.done?e(u):Promise.resolve(u).then(r,i)}function a(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function c(n){l(a,r,i,c,u,"next",n)}function u(n){l(a,r,i,c,u,"throw",n)}c(void 0)}))}}var c=107,u=109,s=203,o=204,d=304,h=305,p=307,x=313,f=314,g=window.location.hostname?window.location.hostname:"",j=window.location.port?window.location.port:"";function Z(){return(Z=a(i().mark((function n(e,t){var r,l,a,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new FormData).append("action",e),l=JSON.stringify(t),r.append("data",l),a="",a=j?g+":"+j:g,n.next=8,fetch("http://"+a+"/back-end/API/API.php",{method:"post",body:r}).then((function(n){return n.json()}));case 8:return c=n.sent,n.abrupt("return",c);case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}e.ZP=function(n,e){return Z.apply(this,arguments)}},7942:function(n,e,t){"use strict";t.r(e);var r=t(5893),i=t(6886),l=t(6242),a=t(8445),c=t(4267),u=t(1903),s=t(7312),o=t(315),d=t(7058),h=t(2224),p=t(5861),x=t(7357),f=t(3321),g=t(4054),j=t(7294),Z=t(5113),m=t(7906),v=t(3816),y=t(3184),P=t(295),b=t(8102),w=t(2882),S=t(2509);function C(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){C(n,e,t[e])}))}return n}function A(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,i=!1,l=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(u){i=!0,l=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw l}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var I=function(){var n=(0,j.useState)([]),e=n[0],t=n[1],g=(0,j.useState)({}),Z=g[0],m=g[1],v=(0,j.useRef)();(0,j.useEffect)((function(){(0,S.ZP)(S.HQ,{}).then((function(n){"Success"===n.result&&t(n.data.linesArr)}))}),[]);return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(a.Z,{title:"Add a product",titleTypographyProps:{variant:"h6"}}),(0,r.jsx)(c.Z,{children:(0,r.jsx)("form",{onSubmit:function(n){return function(n){n.preventDefault();var e=new FormData,t=!0,r=!1,i=void 0;try{for(var l,a=Array.from(v.current.files).entries()[Symbol.iterator]();!(t=(l=a.next()).done);t=!0){var c=A(l.value,2),u=c[0],s=c[1];e.append("file_".concat(u),s)}}catch(d){r=!0,i=d}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}var o=Array.from(v.current.files).length;e.append("filenumber",o),e.append("action",S.Ag),e.append("data",JSON.stringify(Z)),fetch("http://localhost:2203/learning/store-phone/back-end/API/API.php",{method:"POST",body:e}).then((function(n){return n.json()})).then((function(n){"Success"===n.result&&"Success"===n.data.result?alert("Add new product successfully"):setResult("Error")}))}(n)},children:(0,r.jsxs)(i.ZP,{container:!0,spacing:5,children:[(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{fullWidth:!0,label:"Product name",value:Z.name,onChange:function(n){return m((function(e){return W({},e,{name:n.target.value})}))}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{fullWidth:!0,label:"Description",value:Z.desc,onChange:function(n){return m((function(e){return W({},e,{desc:n.target.value})}))}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{fullWidth:!0,type:"number",label:"Inital price",value:Z.inital,onChange:function(n){return m((function(e){return W({},e,{inital:n.target.value})}))}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{fullWidth:!0,type:"number",label:"Selling price",value:Z.selling,onChange:function(n){return m((function(e){return W({},e,{selling:n.target.value})}))}})}),(0,r.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,r.jsx)(s.Z,{id:"form-layouts-separator-multiple-select-label",children:"Product Line"}),(0,r.jsx)(o.Z,{id:"form-layouts-separator-multiple-select",labelId:"form-layouts-separator-multiple-select-label",input:(0,r.jsx)(d.Z,{label:"Language",id:"select-multiple-language"}),onChange:function(n){return m((function(e){return W({},e,{lineID:n.target.value})}))},children:e.map((function(n){return(0,r.jsx)(h.Z,{value:n.id,children:n.id},n.id)}))})]}),(0,r.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,r.jsx)(p.Z,{variant:"p",children:"Images"}),(0,r.jsx)(u.Z,{fullWidth:!0,inputRef:v,type:"file",inputProps:{multiple:!0}})]}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{fullWidth:!0,label:"Color",value:Z.color,onChange:function(n){return m((function(e){return W({},e,{color:n.target.value})}))}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{fullWidth:!0,label:"Capacity",value:Z.capacity,onChange:function(n){return m((function(e){return W({},e,{capacity:n.target.value})}))}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{fullWidth:!0,type:"number",label:"Quantity",value:Z.quantity,onChange:function(n){return m((function(e){return W({},e,{quantity:n.target.value})}))}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(x.Z,{sx:{gap:5,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:(0,r.jsx)(f.Z,{type:"submit",variant:"contained",size:"large",children:"Add"})})})]})})})]})},_=function(){var n=(0,j.useState)({page:!1,product:null}),e=n[0],t=n[1],s=(0,j.useState)(""),o=s[0],d=s[1],h=(0,j.useState)([]),p=h[0],g=h[1];return(0,r.jsxs)(i.ZP,{container:!0,spacing:6,children:[(0,r.jsx)(i.ZP,{item:!0,sm:12,children:(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(a.Z,{title:"Search Product",titleTypographyProps:{variant:"h6"}}),(0,r.jsx)(c.Z,{children:(0,r.jsx)("form",{onSubmit:function(n){return function(n){n.preventDefault(),(0,S.ZP)(S.xN,{nameProduct:o}).then((function(n){"Success"===n.result&&g(n.data.productArray)})),t({page:!1,product:null})}(n)},children:(0,r.jsxs)(i.ZP,{container:!0,spacing:5,children:[(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{fullWidth:!0,label:"Product name",value:o,onChange:function(n){return d(n.target.value)}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(x.Z,{sx:{gap:5,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:(0,r.jsx)(f.Z,{type:"submit",variant:"contained",size:"large",children:"Search"})})})]})})})]})}),(0,r.jsxs)(i.ZP,{item:!0,sm:12,children:[p.length>0&&!e.page&&(0,r.jsx)(w.Z,{component:Z.Z,sx:{marginBottom:6},children:(0,r.jsxs)(m.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,r.jsx)(y.Z,{children:(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(b.Z,{children:"ID"}),(0,r.jsx)(b.Z,{align:"right",children:"Name"}),(0,r.jsx)(b.Z,{align:"right",children:"Color"}),(0,r.jsx)(b.Z,{align:"right",children:"Capacity"}),(0,r.jsx)(b.Z,{align:"right",children:"Inital price"}),(0,r.jsx)(b.Z,{align:"right",children:"Selling price"}),(0,r.jsx)(b.Z,{align:"right",children:"Quantity"}),(0,r.jsx)(b.Z,{align:"right"})]})}),(0,r.jsx)(P.Z,{children:p.map((function(n){return(0,r.jsxs)(v.Z,{sx:{"&:last-of-type td, &:last-of-type th":{border:0}},children:[(0,r.jsx)(b.Z,{component:"th",scope:"item",children:n.id}),(0,r.jsx)(b.Z,{align:"right",children:n.name}),(0,r.jsx)(b.Z,{align:"right",children:n.color}),(0,r.jsx)(b.Z,{align:"right",children:n.capacity}),(0,r.jsx)(b.Z,{align:"right",children:n.initial_price}),(0,r.jsx)(b.Z,{align:"right",children:n.selling_price}),(0,r.jsx)(b.Z,{align:"right",children:n.quantity}),(0,r.jsx)(b.Z,{align:"right",children:(0,r.jsx)(f.Z,{variant:"contained",onClick:function(){return function(n){var e=p.filter((function(e){return e.id===n}))[0];t({page:!0,product:e})}(n.id)},children:"Edit"})})]},n.id)}))})]})}),e.page&&(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(a.Z,{title:"Edit product",titleTypographyProps:{variant:"h6"}}),(0,r.jsx)(c.Z,{children:(0,r.jsx)("form",{onSubmit:function(n){return function(n){n.preventDefault();var r={product:e.product},i=r.product.images[0].split("/");r.product.images=i[i.length-2],(0,S.ZP)(S.U4,r).then((function(n){"Success"===n.result&&"Success"===n.data.result?(alert("Edit successfully"),t({page:!1,product:null})):alert("Edit failed")}))}(n)},children:(0,r.jsxs)(i.ZP,{container:!0,spacing:5,children:[(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{fullWidth:!0,label:"Product name",value:e.product.name,onChange:function(n){return t((function(e){return W({},e,{product:W({},e.product,{name:n.target.value})})}))}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{fullWidth:!0,label:"Selling price",value:e.product.selling_price,onChange:function(n){return t((function(e){return W({},e,{product:W({},e.product,{selling_price:n.target.value})})}))}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{fullWidth:!0,label:"Color",value:e.product.color,onChange:function(n){return t((function(e){return W({},e,{product:W({},e.product,{color:n.target.value})})}))}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{fullWidth:!0,label:"Capacity",value:e.product.capacity,onChange:function(n){return t((function(e){return W({},e,{product:W({},e.product,{capacity:n.target.value})})}))}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{type:"number",fullWidth:!0,label:"Quantity",value:e.product.quantity,onChange:function(n){return t((function(e){return W({},e,{product:W({},e.product,{quantity:n.target.value})})}))}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(x.Z,{sx:{gap:5,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:(0,r.jsx)(f.Z,{type:"submit",variant:"contained",size:"large",children:"Edit"})})})]})})})]})]})]})},E=function(){var n=(0,j.useState)(""),e=n[0],t=n[1],s=(0,j.useState)([]),o=s[0],d=s[1];return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(i.ZP,{container:!0,spacing:6,children:[(0,r.jsx)(i.ZP,{item:!0,sm:12,children:(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(a.Z,{title:"Search Product",titleTypographyProps:{variant:"h6"}}),(0,r.jsx)(c.Z,{children:(0,r.jsx)("form",{onSubmit:function(n){return function(n){n.preventDefault(),(0,S.ZP)(S.xN,{nameProduct:e}).then((function(n){"Success"===n.result&&d(n.data.productArray)}))}(n)},children:(0,r.jsxs)(i.ZP,{container:!0,spacing:5,children:[(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{fullWidth:!0,label:"Product name",value:e,onChange:function(n){return t(n.target.value)}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(x.Z,{sx:{gap:5,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:(0,r.jsx)(f.Z,{type:"submit",variant:"contained",size:"large",children:"Search"})})})]})})})]})}),(0,r.jsx)(i.ZP,{item:!0,sm:12,children:o.length>0&&(0,r.jsx)(w.Z,{component:Z.Z,sx:{marginBottom:6},children:(0,r.jsxs)(m.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,r.jsx)(y.Z,{children:(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(b.Z,{children:"ID"}),(0,r.jsx)(b.Z,{align:"right",children:"Name"}),(0,r.jsx)(b.Z,{align:"right",children:"Color"}),(0,r.jsx)(b.Z,{align:"right",children:"Capacity"}),(0,r.jsx)(b.Z,{align:"right",children:"Inital price"}),(0,r.jsx)(b.Z,{align:"right",children:"Selling price"}),(0,r.jsx)(b.Z,{align:"right",children:"Quantity"}),(0,r.jsx)(b.Z,{align:"right"})]})}),(0,r.jsx)(P.Z,{children:o.map((function(n){return(0,r.jsxs)(v.Z,{sx:{"&:last-of-type td, &:last-of-type th":{border:0}},children:[(0,r.jsx)(b.Z,{component:"th",scope:"item",children:n.id}),(0,r.jsx)(b.Z,{align:"right",children:n.name}),(0,r.jsx)(b.Z,{align:"right",children:n.color}),(0,r.jsx)(b.Z,{align:"right",children:n.capacity}),(0,r.jsx)(b.Z,{align:"right",children:n.initial_price}),(0,r.jsx)(b.Z,{align:"right",children:n.selling_price}),(0,r.jsx)(b.Z,{align:"right",children:n.quantity}),(0,r.jsx)(b.Z,{align:"right",children:(0,r.jsx)(f.Z,{variant:"contained",onClick:function(){return function(n){if(confirm("Are you sure?")){var e=o.filter((function(e){return e.id===n}));(0,S.ZP)(S.eI,e[0]).then((function(n){"Success"===n.result&&"Success"===n.data.result?(alert("Remove product successfully"),d([])):alert("Can't remove the product")}))}}(n.id)},children:"Remove"})})]},n.id)}))})]})})})]})})};e.default=function(){var n=(0,j.useState)(""),e=n[0],t=n[1];return(0,r.jsxs)(i.ZP,{container:!0,spacing:12,children:[(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsxs)(i.ZP,{xs:6,children:[(0,r.jsx)(p.Z,{variant:"h4",sx:{marginBottom:5},children:"Choose a function"}),(0,r.jsxs)(g.Z,{fullWidth:!0,children:[(0,r.jsx)(s.Z,{children:"Function"}),(0,r.jsxs)(o.Z,{value:e,onChange:function(n){return t(n.target.value)},input:(0,r.jsx)(d.Z,{label:"Function"}),children:[(0,r.jsx)(h.Z,{value:"Add",children:"Add"}),(0,r.jsx)(h.Z,{value:"Edit",children:"Edit"}),(0,r.jsx)(h.Z,{value:"Remove",children:"Remove"})]})]})]})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,sm:8,children:function(){switch(e){case"Add":return(0,r.jsx)(I,{});case"Edit":return(0,r.jsx)(_,{});case"Remove":return(0,r.jsx)(E,{});default:return(0,r.jsx)(r.Fragment,{children:"Default"})}}()})]})}}},function(n){n.O(0,[657,315,454,194,774,888,179],(function(){return e=1279,n(n.s=e);var e}));var e=n.O();_N_E=e}]);